<form [formGroup]="myForm" (ngSubmit)="onSubmit()">
  <div>
    <label for="name">Name</label>
    <input 
      id="name" 
      type="text" 
      formControlName="name"
      [class.ng-invalid]="myForm.get('name')?.touched && myForm.get('name')?.invalid"
    />
    <div class="error-message" *ngIf="myForm.get('name')?.touched && myForm.get('name')?.errors">
      <span *ngIf="myForm.get('name')?.errors?.['required']">Name is required</span>
    </div>
  </div>

  <div>
    <label for="email">Email</label>
    <input 
      id="email" 
      type="email" 
      formControlName="email"
      [class.ng-invalid]="myForm.get('email')?.touched && myForm.get('email')?.invalid"
    />
    <div class="error-message" *ngIf="myForm.get('email')?.touched && myForm.get('email')?.errors">
      <span *ngIf="myForm.get('email')?.errors?.['required']">Email is required</span>
      <span *ngIf="myForm.get('email')?.errors?.['email']">Please enter a valid email address</span>
    </div>
  </div>

  <div>
    <label for="password">Password</label>
    <input 
      id="password" 
      type="password" 
      formControlName="password"
      [class.ng-invalid]="myForm.get('password')?.touched && myForm.get('password')?.invalid"
    />
    <div class="error-message" *ngIf="myForm.get('password')?.touched && myForm.get('password')?.errors">
      <span *ngIf="myForm.get('password')?.errors?.['required']">Password is required</span>
      <span *ngIf="myForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters long</span>
    </div>
  </div>

  <div class="btn-group">
    <button type="submit" [disabled]="myForm.invalid">Submit</button>
    <button type="button" (click)="onReset()">Reset</button>
  </div>

  <div *ngIf="formSubmitted" class="success-message">
    Form submitted successfully!
  </div>
</form>

<h1>{{user?.email??''}}</h1>
<h1>{{ user?.name?? ''}}</h1>
